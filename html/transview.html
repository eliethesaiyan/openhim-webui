<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>OpenHIX</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">

<!-- Le styles -->
<link href="../css/bootstrap.css" rel="stylesheet">
<script src="../js/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<style>
body {
	padding-top: 60px;
	/* 60px to make the container go all the way to the bottom of the topbar */
}
</style>

<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Le fav and touch icons -->
<link rel="shortcut icon" href="ico/favicon.ico">
<link rel="apple-touch-icon-precomposed" sizes="114x114"
	href="ico/apple-touch-icon-114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72"
	href="ico/apple-touch-icon-72-precomposed.png">
<link rel="apple-touch-icon-precomposed"
	href="ico/apple-touch-icon-57-precomposed.png">
</head>

<body>

	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<a class="btn btn-navbar" data-toggle="collapse"
					data-target=".nav-collapse"> <span class="icon-bar"></span> <span
					class="icon-bar"></span> <span class="icon-bar"></span>
				</a> <a class="brand" href="#">HIM - Error Management Console</a>
				<ul class="nav">
					<li><a href="../translist">Transaction Log</a></li>
					<li><a href="../monitor">Monitor</a></li>
				</ul>
				<ul class="nav pull-right">
				  <li class="dropdown">
				    <a href="#"
				          class="dropdown-toggle"
				          data-toggle="dropdown">
				          <i class="icon-user icon-white"></i>
				          ${username}
				          <b class="caret"></b>
				    </a>
				    <ul class="dropdown-menu">
				      <li><a href="../auth/logout">Logout</a></li>
				    </ul>
				  </li>
				</ul>
			</div>
		</div>
	</div>

	<div class="container">

		<h1>View Transaction</h1>

		<div>
			<h3>
				<a  style="line-height: 2em" href="javascript:history.go(-1)">
					<span style="vertical-align: middle"><i class="icon-chevron-left" style="vertical-align: middle"></i>Back</span>
				</a>
			</h3>
		</div>

		<div class="well">

			<div class="row">
				<div class="span3 offset8">
					<button class="btn" title="Edit and re-run transaction" disabled="disabled">
						<!--re-run -->
						<i class="icon-repeat"></i>
					</button>
					<button class="btn" title="Mark as reviewed" disabled="disabled">
						<!--Mark as Reviewed -->
						<i class="icon-ok"></i>
					</button>
					<button class="btn" title="Flag Transaction" disabled="disabled">
						<!--Flag -->
						<i class="icon-flag"></i>
					</button>
					<button class="btn" title="Previous Transaction" disabled="disabled">
						<!-- &larr;Prev-->
						<i class="icon-arrow-left"></i>
					</button>
					<button class="btn" title="Next Transaction" disabled="disabled">
						<!--Next &rarr;-->
						<i class="icon-arrow-right"></i>
					</button>
				</div>
				<div class="span6">
					<table width="50%">
						<tr>
							<td>ID</td>
							<td>${row[0]}</td>
						</tr>
						<tr>
							<td>UUID</td>
							<td>${row[1]}</td>
						</tr>
						<tr>
							<td>Status</td>
							<td>
								% if row[13] == 1:
									Processing
								% elif row[13] == 2:
									Completed
								% else:
									Error
								% endif
							</td>
						</tr>
						<tr>
							<td>Authorized User</td>
							<td>${row[10]}</td>
						</tr>
					</table>
				</div>

			</div>

			<br />

			<div class="row">
				<div class="span12">
					<h2>Request</h2>
					<table width="50%">
						<tr>
							<td>Path</td>
							<td>${row[2]}</td>
						</tr>
						<tr>
							<td>Request Parameters</td>
							<td>${row[3]}</td>
						</tr>
						<tr>
							<td>HTTP Method</td>
							<td>${row[5]}</td>
						</tr>
						<tr>
							<td>Recieved Timestamp</td>
							<td>${row[8]}</td>
						</tr>
						<tr>
							<td>Request Body:</td>
						</tr>
					</table>
					<textarea rows="10" style="width: 95%" readonly="readonly">${row[4]}</textarea>
				</div>
			</div>

			<br />

			<div class="row">
				<div class="span12">
					<h2>Response</h2>
					<table width="100%">
						<tr>
							<td>Response status</td>
							<td>${row[6]}</td>
						</tr>
						<tr>
							<td>Recieved timestamp</td>
							<td>${row[8]}</td>
						</tr>
						<tr>
							<td>Response Body:</td>
						</tr>
					</table>
					<textarea rows="10" style="width: 95%" readonly="readonly">${row[7]}</textarea>
				</div>
			</div>

			<br />

			<div class="row">
				<div class="span12">
					<h2>Errors</h2>
					<table width="100%">
						<tr>
							<td>Description</td>
							<td>${row[11]}</td>
						</tr>
						<tr>
							<td>Stacktrace:</td>
						</tr>
					</table>
					<textarea rows="10" style="width: 95%" readonly="readonly">${row[12]}</textarea>
				</div>
			</div>

		</div>

	</div>
	<!-- /container -->

</body>
</html>
